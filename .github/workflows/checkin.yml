# â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
# â”‚  âœ¨ æ¯æ—¥è‡ªåŠ¨ç­¾åˆ° Â· Daily Check-in âœ¨        â”‚
# â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
name: ğŸ¯ Daily Check-in

on:
  workflow_dispatch:          # ğŸš€ æ‰‹åŠ¨è§¦å‘
  schedule:
    - cron: '5 16 * * *'      # ğŸ•’ æ¯å¤© 16:05 UTC (00:05 UTC+8)

permissions:
  contents: read              # ğŸ“ ä»…è¯»å–ä»“åº“ä»£ç 

jobs:
  checkin:
    name: ğŸª„ Run Check-in
    runs-on: ubuntu-latest

    steps:
      # ğŸ“¥ æ‹‰å–ä»“åº“æºç 
      - name: ğŸ“¦ Checkout source
        uses: actions/checkout@v4

      # ğŸ å®‰è£… Python 3.10
      - name: ğŸ Setup Python 3.10
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      # ğŸ“¦ å®‰è£…ä¾èµ–
      - name: ğŸ§© Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      # ğŸš€ æ‰§è¡Œç­¾åˆ°è„šæœ¬
      - name: ğŸƒâ€â™‚ï¸ Execute check-in
        run: python main.py
        env:
          cookie: ${{ secrets.COOKIE }}   # ğŸª ç”¨æˆ· Cookie
          stoken: ${{ secrets.STOKEN }}   # ğŸ”‘ ç™»å½•æ€ Token
          CAPTCHA_ENDPOINT: ${{ secrets.CAPTCHA_ENDPOINT }}  # ğŸ”‘ éªŒè¯ç  API ç«¯ç‚¹